if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}__definePage("pages/index/index",((e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n})({data:()=>({ngrokDomain:"ca77-219-128-230-37.ngrok-free.app",ws:null,env:{},wsStatus:"æœªè¿žæŽ¥",wsUrlCache:""}),onLoad(){this.connectWS()},onUnload(){this.closeWS()},methods:{connectWS(){if(this.ws&&(this.ws.close(),this.ws=null),!this.ngrokDomain)return void(this.wsStatus="è¯·å…ˆè¾“å…¥åŽç«¯åŸŸå");const e=`wss://${this.ngrokDomain}`;this.wsUrlCache=e;try{this.ws=new WebSocket(e),this.wsStatus="è¿žæŽ¥ä¸­...",this.ws.onopen=()=>{this.wsStatus="å·²è¿žæŽ¥",t("log","at pages/index/index.vue:63","WebSocketå·²è¿žæŽ¥:",e)},this.ws.onmessage=e=>{try{this.env=JSON.parse(e.data)}catch{this.env={}}},this.ws.onerror=e=>{this.wsStatus="è¿žæŽ¥å‡ºé”™",t("log","at pages/index/index.vue:74","WebSocketé”™è¯¯:",e)},this.ws.onclose=()=>{this.wsStatus="è¿žæŽ¥å·²å…³é—­",t("log","at pages/index/index.vue:78","WebSocketå·²å…³é—­")}}catch(n){this.wsStatus="WebSocketè¿žæŽ¥å¼‚å¸¸",t("error","at pages/index/index.vue:82","WebSocketå¼‚å¸¸:",n)}},changeNgrok(){this.connectWS(),uni.showToast({title:"WebSocketå·²åˆ‡æ¢",icon:"none"})},closeWS(){this.ws&&(this.ws.close(),this.ws=null,this.wsStatus="å·²æ–­å¼€")},reconnectWS(){this.connectWS()}}},[["render",function(t,n,o,r,a,i){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"block",style:{"margin-bottom":"20rpx"}},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>a.ngrokDomain=e),placeholder:"è¯·è¾“å…¥ngrokåŸŸå(å¦‚ ca77-219-128-230-37.ngrok-free.app)",class:"ngrok-input"},null,512),[[e.vModelText,a.ngrokDomain]]),e.createElementVNode("button",{onClick:n[1]||(n[1]=(...e)=>i.changeNgrok&&i.changeNgrok(...e))},"åˆ‡æ¢WebSocketåœ°å€")]),e.createElementVNode("view",{class:"block"},[e.createElementVNode("text",null,"ðŸŒ¡ï¸ æ¸©åº¦ï¼š"+e.toDisplayString(a.env.temperature)+" â„ƒ",1)]),e.createElementVNode("view",{class:"block"},[e.createElementVNode("text",null,"ðŸ’§ æ¹¿åº¦ï¼š"+e.toDisplayString(a.env.humidity)+" %",1)]),e.createElementVNode("view",{class:"block"},[e.createElementVNode("text",null,"ðŸ”† å…‰ç…§ï¼š"+e.toDisplayString(a.env.light),1)]),e.createElementVNode("view",{class:"block"},[e.createElementVNode("text",null,"ðŸ“ çº¬åº¦ï¼š"+e.toDisplayString(a.env.latitude),1)]),e.createElementVNode("view",{class:"block"},[e.createElementVNode("text",null,"ðŸ“ ç»åº¦ï¼š"+e.toDisplayString(a.env.longitude),1)]),e.createElementVNode("view",{class:"block"},[e.createElementVNode("text",null,"ðŸ›°ï¸ å«æ˜Ÿæ•°ï¼š"+e.toDisplayString(a.env.satellites),1)]),e.createElementVNode("view",{class:"status",style:{"margin-top":"30rpx"}},[e.createElementVNode("text",null,"è¿žæŽ¥çŠ¶æ€ï¼š"+e.toDisplayString(a.wsStatus),1)]),e.createElementVNode("button",{onClick:n[2]||(n[2]=(...e)=>i.closeWS&&i.closeWS(...e)),type:"warn",style:{"margin-top":"20rpx"}},"æ–­å¼€WebSocket"),e.createElementVNode("button",{onClick:n[3]||(n[3]=(...e)=>i.reconnectWS&&i.reconnectWS(...e)),style:{"margin-top":"10rpx"}},"é‡æ–°è¿žæŽ¥")])}]]));const n={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:o,Vuex:r,Pinia:a}={app:e.createVueApp(n)};uni.Vuex=r,uni.Pinia=a,o.provide("__globalStyles",__uniConfig.styles),o._component.mpType="app",o._component.render=()=>{},o.mount("#app")}(Vue);

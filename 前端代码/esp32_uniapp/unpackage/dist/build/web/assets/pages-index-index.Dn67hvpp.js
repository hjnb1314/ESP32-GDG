import{s as t,c as s,w as e,i as o,o as l,a,b as n,t as c,I as i,d as u,e as r}from"./index-BrEnYvbw.js";const d=((t,s)=>{const e=t.__vccOpts||t;for(const[o,l]of s)e[o]=l;return e})({data:()=>({ngrokDomain:"ca77-219-128-230-37.ngrok-free.app",ws:null,env:{},wsStatus:"æœªè¿æ¥",wsUrlCache:""}),onLoad(){this.connectWS()},onUnload(){this.closeWS()},methods:{connectWS(){if(this.ws&&(this.ws.close(),this.ws=null),!this.ngrokDomain)return void(this.wsStatus="è¯·å…ˆè¾“å…¥åç«¯åŸŸå");const t=`wss://${this.ngrokDomain}`;this.wsUrlCache=t;try{this.ws=new WebSocket(t),this.wsStatus="è¿æ¥ä¸­...",this.ws.onopen=()=>{this.wsStatus="å·²è¿æ¥",console.log("WebSocketå·²è¿æ¥:",t)},this.ws.onmessage=t=>{try{this.env=JSON.parse(t.data)}catch{this.env={}}},this.ws.onerror=t=>{this.wsStatus="è¿æ¥å‡ºé”™",console.log("WebSocketé”™è¯¯:",t)},this.ws.onclose=()=>{this.wsStatus="è¿æ¥å·²å…³é—­",console.log("WebSocketå·²å…³é—­")}}catch(s){this.wsStatus="WebSocketè¿æ¥å¼‚å¸¸",console.error("WebSocketå¼‚å¸¸:",s)}},changeNgrok(){this.connectWS(),t({title:"WebSocketå·²åˆ‡æ¢",icon:"none"})},closeWS(){this.ws&&(this.ws.close(),this.ws=null,this.wsStatus="å·²æ–­å¼€")},reconnectWS(){this.connectWS()}}},[["render",function(t,d,h,k,S,f){const w=i,g=u,_=o,p=r;return l(),s(_,{class:"container"},{default:e((()=>[a(_,{class:"block",style:{"margin-bottom":"20rpx"}},{default:e((()=>[a(w,{modelValue:S.ngrokDomain,"onUpdate:modelValue":d[0]||(d[0]=t=>S.ngrokDomain=t),placeholder:"è¯·è¾“å…¥ngrokåŸŸå(å¦‚ ca77-219-128-230-37.ngrok-free.app)",class:"ngrok-input"},null,8,["modelValue"]),a(g,{onClick:f.changeNgrok},{default:e((()=>[n("åˆ‡æ¢WebSocketåœ°å€")])),_:1},8,["onClick"])])),_:1}),a(_,{class:"block"},{default:e((()=>[a(p,null,{default:e((()=>[n("ğŸŒ¡ï¸ æ¸©åº¦ï¼š"+c(S.env.temperature)+" â„ƒ",1)])),_:1})])),_:1}),a(_,{class:"block"},{default:e((()=>[a(p,null,{default:e((()=>[n("ğŸ’§ æ¹¿åº¦ï¼š"+c(S.env.humidity)+" %",1)])),_:1})])),_:1}),a(_,{class:"block"},{default:e((()=>[a(p,null,{default:e((()=>[n("ğŸ”† å…‰ç…§ï¼š"+c(S.env.light),1)])),_:1})])),_:1}),a(_,{class:"block"},{default:e((()=>[a(p,null,{default:e((()=>[n("ğŸ“ çº¬åº¦ï¼š"+c(S.env.latitude),1)])),_:1})])),_:1}),a(_,{class:"block"},{default:e((()=>[a(p,null,{default:e((()=>[n("ğŸ“ ç»åº¦ï¼š"+c(S.env.longitude),1)])),_:1})])),_:1}),a(_,{class:"block"},{default:e((()=>[a(p,null,{default:e((()=>[n("ğŸ›°ï¸ å«æ˜Ÿæ•°ï¼š"+c(S.env.satellites),1)])),_:1})])),_:1}),a(_,{class:"status",style:{"margin-top":"30rpx"}},{default:e((()=>[a(p,null,{default:e((()=>[n("è¿æ¥çŠ¶æ€ï¼š"+c(S.wsStatus),1)])),_:1})])),_:1}),a(g,{onClick:f.closeWS,type:"warn",style:{"margin-top":"20rpx"}},{default:e((()=>[n("æ–­å¼€WebSocket")])),_:1},8,["onClick"]),a(g,{onClick:f.reconnectWS,style:{"margin-top":"10rpx"}},{default:e((()=>[n("é‡æ–°è¿æ¥")])),_:1},8,["onClick"])])),_:1})}],["__scopeId","data-v-1a386857"]]);export{d as default};
